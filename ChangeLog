2008-03-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Cleanup for modules services and services1.

	* libopenvas/services.c: replace inlusion of "includes.h" by
	respective single includes.

	* libopenvas/services1.c: replace inlusion of "includes.h" by
	respective single includes.

	* libopenvas/services1.h: New. Contains declarations
	for module "services1" (extracted from libopenvas.h)

	* libopenvas/services.h: Moved declarations of services1 to
	services1.h.

	* include/libopenvas.h: Removed declarations for services1
	and replaced by include of services1.

	* include/popen.h: Added missing include for stdio.h.

	* Makefile: Install libopenvas/services1.h.

	* MANIFEST: Install libopenvas/services1.h.

2008-03-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Cleanup for module scanners_utils.

	* libopenvas/scanners_utils.c: replace inlusion of "includes.h" by
	respective single includes. Removed ExtFunc.

	* include/libopenvas.h: Removed declarations for scanners_utils
	and replaced by include of scanners_utils.

	* include/comm.h: Added missing include for arglists.h.

	* Makefile: Install libopenvas/scanners_utils.h.

2008-03-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Cleanup for module rand.

	* libopenvas/rand.c: replace inlusion of "includes.h" by
	respective single includes.

	* include/libopenvas.h: Removed declarations for rand
	and replaced by include of proctitle.

	* Makefile: Install libopenvas/rand.h.

2008-03-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Cleanup for module proctitle.

	* libopenvas/proctitle.c: replace inlusion of "includes.h" by
	respective single includes.

	* include/libopenvas.h: Removed declarations for proctitle
	and replaced by include of proctitle. The declarations were
	not identical but similar enough.

	* Makefile: Install libopenvas/proctitle.h.

2008-03-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/scanners_utils.c (qsort_compar): Made static.

2008-03-22  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Cleanup for module popen.

	* libopenvas/popen.h: New. Contains declarations
	for module "popen" (extracted from libopenvas.h)

	* libopenvas/popen.c: replace inlusion of "includes.h" by
	respective single includes.

	* include/libopenvas.h: Moved any popen declarations
	to popen.h.

	* libopenvas/scanner_utils.h: Added missing include.

	* Makefile: Install libopenvas/popen.h.

	* MANIFEST: Updated.

2008-03-22  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Cleanup for module www_funcs.

	* libopenvas/www_funcs.h: New. Contains declarations
	for module "www_funcs" (extracted from libopenvas.h)

	* libopenvas/www_funcs.c: replace inlusion of "includes.h" by
	respective single includes.

	* include/libopenvas.h: Moved any www_funcs declarations
	to www_funcs.h.

	* libopenvas/plugutils.h: Added missing include.

	* Makefile: Install libopenvas/plugutils_internal.h.

	* MANIFEST: Updated.

2008-03-21  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Cleanup for module plugutils.

	* libopenvas/plugutils.h: New. Contains declarations
	for module "plugutils" (extracted from libopenvas.h)

	* libopenvas/plugutils.c: replace inlusion of "includes.h" by
	respective single includes. Removed "ExtFunc".

	* include/libopenvas.h: Moved any plugutils declarations
	to plugutils.h.

	* libopenvas/comm.h, libopenvas/services.h,
	libopenvas/scanners_utils.h: Remove "ExtFunc" declaration.

	* Makefile: Install libopenvas/plugutils_internal.h.

	* MANIFEST: Updated.

2008-03-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/plugutils.h: Renamed to plugutils_internal.h.

	* libopenvas/plugutils_internal.h: New. Former plugutils.h.

	* libopenvas/store.c: Reflect renaming of plugutils.h to
	plugutils_internal.h.
	(store_get_plugin_f): Made static.

2008-03-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Cleanup for module system.

	* libopenvas/system.h: New. Contains declarations
	for module "system" (extracted from libopenvas.h)

	* libopenvas/system.c: replace inlusion of "includes.h" by
	respective single includes. Removed empty "ExtFunc".

	* include/libopenvas.h: Moved any system declarations
	to system.h.

	* Makefile: Install libopenvas/system.h.

	* MANIFEST: Updated.

2008-03-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/system.h: Renamed to system_internal.h

	* libopenvas/system_internal.h: New. Previous system.h.

	* libopenvas/harglists.c, libopenvas/pcap.c,
	libopenvas/system.c, libopenvas/arglists.c,
	libopenvas/Makefile, libopenvas/kb.c,
	MANIFEST: Reflect name change from
	system.h to system_internal.h.

2008-03-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Cleanup for module pcap.

	* libopenvas/pcap_openvas.h: New. Contains declarations
	for module "pcap_openvas" (extracted from libopenvas.h)

	* libopenvas/pcap.c: replace inlusion of "includes.h" by
	respective single includes.

	* include/libopenvas.h: Moved any pcap declarations
	to pcap_openvas.h.

	* Makefile: Install libopenvas/pcap_openvas.h.

	* MANIFEST: Updated.

2008-03-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Cleanup for module kb.

	* libopenvas/kb.h: New. Contains declarations
	for module "kb" (extracted from libopenvas.h)

	* libopenvas/kb.c: replace inlusion of "includes.h" by
	respective single includes.

	* include/libopenvas.h: Moved any kb declarations
	to kb.h.

	* Makefile: Install libopenvas/kb.h.

	* MANIFEST: Updated.

2008-03-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* include/harglists.h: Removed. Moved to libopenvas/harglists.h.

	* libopenvas/harglists.h: New. Former include/harglists.h.

	* Makefile: Reflect move of harglists.h.

	* libopenvas/harglists.c: replace inlusion of "includes.h"
	separate ones for the only needed declarations.

	* MANIFEST: Updated.

2008-03-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas_hg/Makefile: Added path to libopenvas/ for
	include files. This make the library to build again.

2008-03-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Cleanup for module bpf_share.

	* libopenvas/bpf_share.h: New. Contains declarations
	for module "bpf_share". (extracted from libopenvas.h and removed
	ExtFunc while we are at it)

	* libopenvas/bpf_share.c: replace inlusion of "includes.h" by
	"pcap.h" which is already sufficient.

	* include/libopenvas.h: Moved any bpf_share declarations
	to bpf_share.h.

	* Makefile: Install libopenvas/bpf_share.h.

	* MANIFEST: Updated.

2008-03-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Implementing OpenVAS Change Request #5: Remove BPF sharing feature

	* configure.in: Remove option "--enable-bpf-sharing" and adapt
	corresponding messages.

	* configure: updated.

	* README.BPF: Renamed Nessus to OpenVAS, added note that there
	once was a feature for bpf-sharing.

	* libopenvas/bpf_share.c: Removed the whole alternative
	block for "HAVE_DEV_BPFN".
	(main): Also removed the now useless=empty test frame.

	* libopenvas/Makefile: bpf_sharing does not need to know
	about the StateDir anymore.

	* TODO: Removed entry about BPF sharing.

2008-03-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* TODO: Added entry describing how the cleanup re header files
	should be continued.

2008-03-14  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/network.h: New. Contains external header information
	for module "network". (extracted from libopenvas.h)

	* libopenvas/ftp_funcs.h: Updated header for OpenVAS, removed
	"ExtFunc".

	* libopenvas/ftp_funcs.c: Updated header for OpenVASremoved "ExtFunc",
	replaced includes.h by actually required includes.

	* include/libopenvas.h: Moved any ftp_funcs declarations
	to ftp_funcs.h. Moved most network declarations to network.h.

	* Makefile: Install libopenvas/network.h and libopenvas/ftp_funcs.h.

	* libopenvas/arglists.h: Added forgotten ifdef.

	* MANIFEST: Updated.

2008-03-14  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Removing unsused module "data". It was meant as a future
	replacement of arglists. However, it does only try the same
	philosophy with some improvments whereas it makes more
	sense to leave optimized handling to specialists like glib.

	* libopenvas/data.c, include/data.h: Removed.

	* TODO: Removed enty about data.c.

	* MANIFEST: updated.

2008-03-14  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	A sample cleanup for header files.

	* libopenvas/arglists.h: New. Contains external header information
	for module "arglists". (extracted from libopenvas.h)

	* Makefile: Install libopenvas/arglists.h.

	* include/libopenvas.h: Converted header block to standard one.
	Removed any arglists definitions and instead includes arglists.h.

	* libopenvas/arglists.c: Replace generic include of includes.h
	by respective required single include statements.
	Removed any use of "ExtFunc" declaration which is empty anyway.

2008-03-14  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/plugutils.c: Removed include for diff.h.

2008-03-14  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* include/libopenvas.h: Annotated module names, some lines reordered,
	removed W32 conditional.

2008-03-14  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* TODO: Added entry about data.c

2008-03-13  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/Makefile: Removed handling of module "diff".

	* libopenvas/diff.c, libopenvas/diff.h: Removed as the
	only method "banner_diff" isn't used anywhere in OpenVAS.

	* MANIFEST: updated.

2008-03-10  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Removing the apparently unused module "snprintf". There exists
	no corresponding proto and thus it could never be used without
	occuring warnings during compilation. snprintf is part of C99.

	* libopenvas/Makefile: Remove handling of snprintf module.

	* MANIFEST: Updated.

	* libopenvas/snprintf.c: Removed.

2008-03-03  Laban Mwangi <labeneator@gmail.com>

	* libopenvas/plugutils.c, libopenvas/proctitle.c,
	libopenvas/store.c, libopenvas/www_funcs.c:
	Adding FlawFinder ignores to various string operations
	as discussed on the Mailing List.

2008-02-16  Laban Mwangi <labeneator@gmail.com>

	* libopenvas/hlst.c (flush_hlst, make_hlst, sort_hlst, unsort_hlst),
	libopenvas/hlst.h (_hlst): Fixing flawfinder l4 warnings
	related to flawfinder thinking that a ptr in a linkedlist called
	access is = the call access(2)

2008-02-15  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/store.c (safe_copy): Cast return value strlen to
	match format string.  Silences a compiler warning

2008-02-15  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/www_funcs.c (http11_get_head): Removed this unused
	function.  Silences a compiler warning.

2008-02-15  Bernhard Herzog  <bh@intevation.de>

	* libopenvas_hg/hg_dns_axfr.c (hg_dns_axfr_add_host)
	(hg_dns_read_ns_from_answer, hg_dns_axfr_query): Use ns_get16
	instead of _getshort.  _getshort is defined in glibc but not
	declared in any headerfile.  ns_get16 is a newer API but should be
	widely available, too.

2008-02-15  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/hlst.c (copy_hlst): Fix Flawfinder issue.

2008-02-15  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/harglists.c (say_creating): Fix format string to
	match the types that will actually be used
	(say_closing, message): Fix Flawfinder issues
	(do_printf): Fix flawfinder issues.  Fix gcc warnings about
	fprintf args, adapting a format string to better match the purpose
	of printing the value of a pointer.

2008-02-15  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Removal of Flawfinder issues.

	* libopenvas/system.c (emalloc): replace usleep() by nanosleep().
	(estrdup): Set two Flawfinder: ignore, one reported path can not
	happen (now documented) and whether to use strlen() is a more general
	question.

2008-02-15  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/system.c, libopenvas/system.h: Applied standard header,
	added comments on unclear things.

2008-02-15  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/system.c (emalloc, erealloc): Added type cast to get rid of
	compiler warning.

2008-02-12  Laban Mwangi <labeneator@gmail.com>

	* INSTALL_README: Added dependent libraries (bug
	fix for aid #591)

2008-02-12  Tim Brown <timb@nth-dimension.org.uk>

	* packaging/debian/*: Minor fixes, now includes scripts to
	allow dependents to build. Also fixed minor typo in
	packaging/debian/copyright.

2008-02-05  Tim Brown <timb@nth-dimension.org.uk>

	* packaging/debian/*: Minor changes, now builds lintian clean.
	* packaging/debian/copyright: More information in the copyright,
	including a detailed account of holders.

2007-11-07  Tim Brown <timb@nth-dimension.org.uk>

	* packaging/debian/control, packaging/debian/copyright: Minor
	changes to fix Homepage and Copyright directives.

2007-10-31  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* MANIFEST: Updated.

2007-10-31  Tim Brown <timb@nth-dimension.org.uk>

	* packaging, packaging/debian: New directories.

	* packaging/debian/control, packaging/debian/libopenvas.dirs,
	packaging/debian/compat, packaging/debian/libopenvas-dev.install,
	packaging/debian/changelog, packaging/debian/libopenvas.install,
	packaging/debian/copyright, packaging/debian/rules,
	packaging/debian/libopenvas-dev.dirs: New. The debian packaging files.

2007-10-12  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* VERSION: post-release version bump to 1.0.1.SVN

2007-10-12  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* MANIFEST: Updated.

2007-10-12  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Doing the release 1.0.0.

	* VERSION: Set to 1.0.0.

	* CHANGES: Updated.

2007-10-11  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* README.HPUX: Removed. This information seem to be a leftover
	from stoneage time.

	* TODO: More things noted.

2007-10-08  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Some code cleanups.

	* libopenvas/plugutils(plug_get_fresh_key): Fixed wrong number of
	arguments for fprintf call.

	* libopenvas/harglists.c(harg_addt, harg_set_valuet, harg_renamet): Add
	more ()s to make clear && is to be evaluated before ||. This was
	suggested by gcc.

	* libopenvas/www_funcs.c(http_get, http_head, httpver, http10_head, http10_get,
	http10_get_head, http11_head, http11_get): Removed. These functions have never been used.

2007-10-08  Bernhard Herzog  <bh@intevation.de>

	* libopenvas_hg/Makefile: Install hosts_gatherer.h and hg_utils.h
	into ${includedir}/openvas.  They contain declarations needed by
	openvas-server and openvas-libnasl

2007-09-25 Tim Brown <timb@nth-dimension.org.uk>

	Patch to fix two "implicit declaration" gcc-warnings submitted
	by Hanno Böck on openvas-devel.

	* include/includes.h: Add include of fnmatch.h.

	* include/libopenvas.h: Added proto for kb_item_rm_all().

2007-09-13  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* VERSION: bumped to 0.9.2.SVN

2007-09-13  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Doing the release 0.9.1.

	* VERSION: Set to 0.9.1.

	* CHANGES: Updated.

2007-09-13  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* TODO: Removed the entry about separate versioning (it is
	done now). Also removed the entry about reviewing the Debian patches
	to nessus-libraries (done).

	* libopenvas/bpf_share.c, libopenvas/services.h: Fixed paths to
	state dir to LFSH standard. This make the current Debian patch
	to the according Makefile in nessus-libraries unnecessary.

2007-08-03  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in, openvas-libraries.tmpl.in, include/libvers.h.in,
	libopenvas/plugutils.c: Replaced NESSUS_MAJOR etc. by
	OPENVASLIBS_MAJOR etc. as well as NL_MAJOR etc. by
	OPENVASLIBS_MAJOR etc.

	* configure: updated.

2007-08-02  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/plugutils.c, libopenvas/scanners_utils.c,
	libopenvas/store.c: Removed unused variables.

2007-08-02  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas_hg/Makefile: Fix dependencies for target test.

	* libopenvas_hg/hosts_gatherer.h: Add missing proto
	for hg_test_syntax().

	* libopenvas_hg/test.c (main): Fix return type.

2007-08-02  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* VERSION: bumped to 0.9.1.SVN

	* CHANGES: updated.

	* libopenvas_hg/hg_dns_axfr.c: Removed CYGWIN
	part which was not implemented anyway (just a stub).

	* libopenvas/getopt1.c, libopenvas/getopt.c,
	libopenvas/harglists.c, libopenvas/hlst.c: Removed
	handling of _WIN32.

	* Makefile: Removed target win32.

2007-08-02  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libhosts_gatherer, libopenvas_hg: renamed
	libhosts_gatherer to libopenvas_hg.

	* Makefile: renamed libhosts_gatherer to libopenvas_hg.

	* MANIFEST: updated.

2007-08-02  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas-config.pre.in, libhosts_gatherer/Makefile,
	libhosts_gatherer/test.c: Renamed libhost_gatherer
	by libopenvas_hg.

2007-08-01  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Removed strange handling of CWARN which tries to collect
	a number of warning wishes for compilation. It didn't
	really work anyway.
	Replaced this by: allways give all warnings (-Wall).

	* configure.in, openvas-libraries.tmpl.in: Removed handling
	of CWARN[01234] and CWALL.

	* configure: updated.

	* libopenvas/Makefile, libhosts_gatherer/Makefile: Added
	-Wall as compile flag.

2007-07-26  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* CHANGES: Set release date to 27.7.2007

2007-07-26  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Doing the release 0.9.0.

	* VERSION: Set to 0.9.0.

2007-07-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/proctitle.c (setproctitle):
	Change name of daemon from nessusd to openvasd.

	* include/config.h.in: Removed NESSUSD_USERNAME which is not
	used anywhere.

	* libopenvas/services.h: Changed paths from nessus to openvas.

2007-07-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in: replaced AC_HAVE_LIBRARY by AC_CHECK_LIB for
	gnutls, resolve and pcap and emit error when not found.
	Also replaced the not-so-helpful message after running
	configure with some more useful.

	* configure: updated.

	* libopenvas/Makefile: Fixed dependencies reg. network.h.

2007-07-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* MANIFEST: updated.

2007-07-25  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.h: Removed. Everything declared in network.h
	is also declared in libopenvas.h

	* libopenvas/pcap.c, libopenvas/network.c, libopenvas/ids_send.c:
	Remove includes of network.h

2007-07-24  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (ovas_server_context_attach)
	(read_stream_connection_unbuffered)
	(write_stream_connection4, internal_send, internal_recv): Remove
	unused variables

2007-07-24  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c: Add missing include of <gnutls/x509.h>

2007-07-24  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (verify_peer_certificate): Make status an
	unsigned int so that it matches the signature of
	gnutls_certificate_verify_peers2

2007-07-24  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (set_gnutls_priorities)
	(set_gnutls_protocol): Renamed set_gnutls_priorities to
	set_gnutls_protocol
	(open_SSL_connection, ovas_server_context_attach): Updated because
	of set_gnutls_priorities renaming
	(set_gnutls_priorities): New function that sets the priorities of
	a session from a bunch of int arrays and handles errors
	(set_gnutls_sslv23, set_gnutls_sslv3, set_gnutls_tlsv1): Use
	set_gnutls_priorities to set the priorities instead of calling the
	gnutls functions directly.  Also return an error code properly.

2007-07-24  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (nessus_SSL_init): Return a value (0) if
	already initialized

2007-07-24  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (nessus_SSL_init): Make sure
	gnutls_global_init is only called once even if nessus_SSL_init is
	called multiple times.

2007-07-24  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (load_file, unload_file): Use emalloc and
	efree to be consistent with the rest of the libopenvas code

2007-07-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/services.h: Fixed location of openvas-services.

2007-07-19  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvas-libraries.tmpl.in: Removed remains for libcap-nessus
	and PCAP_-variables

2007-07-19  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	First preparations for release.

	* include/libopenvas.h, include/config.h.in: Removed last occurances of HAVE_SSL.

	* MANIFEST: updated.

	* CHANGES: New. Describes Changes for users.

	* Makefile: No sbin required for installation of this package.

	* TODO: Removed item about libpcap which indeed has been removed
	meanwhile.

	* INSTALL_README: Added a warning that these instructions might
	not be uptodate.

2007-07-18  Bernhard Herzog  <bh@intevation.de>

	* include/includes.h: Remove openssl includes

2007-07-18  Bernhard Herzog  <bh@intevation.de>

	* include/libopenvas.h: Removed the declaration of
	nessus_register_connection that uses a SSL* as the second
	parameter.  The void* variant is still there.

2007-07-17  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.h, include/libopenvas.h: Remove declarations
	of unused and unimplemented functions:
	   stream_get_server_certificate
	   stream_get_ascii_server_certificate

2007-07-17  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (nessus_install_passwd_cb, sslerror)
	(sslerror2): Removed.  They are no longer used anywhere.
	(stream_get_ssl): Change the return type to void* so that we no
	longer need openssl.h

	* include/libopenvas.h: Remove declaration of
	nessus_install_passwd_cb and sslerror.  Update declaration of
	stream_get_ssl

2007-07-02  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (verify_peer_certificate): If the peer
	did not send a certificate, treat it as valid.

2007-07-02  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (OVAS_CONNECTION_FROM_FD): New. Macro to
	determine the nessus_connection* given a nessus file descriptor
	(nessus_register_connection, ovas_allocate_connection): Most of
	nessus_register_connection is now in the new function
	ovas_allocate_connection.
	(set_gnutls_priorities): New.  Frontend for the other set_gnutls_*
	functions.
	(verify_peer_certificate): New.  Function to verify the peer
	certificate
	(open_SSL_connection): Use set_gnutls_priorities.
	(ovas_server_context_new): New.  Function to allocate an
	ovas_server_context_t
	(ovas_server_context_free): New.  Function to free an
	ovas_server_context_t
	(ovas_server_context_attach): New.  Functin to set up SSL/TLS on a
	socket with parameters from a ovas_server_context_t 

	* include/libopenvas.h: Add declarations for the new functions and
	types.  Always declare nessus_SSL_init.

2007-06-26  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libhosts_gatherer/hg_add_hosts.c: Backported patch from original
	nessus-libraries branch NESSUS_2_2 as committed by Renaud Deraison
	June, 25 2007. Original commit message there: "bugfix".

2007-06-22  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (nessus_SSL_password_cb): Removed because
	it's not used anymore.

2007-06-22  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (nessus_SSL_init): Handle errors.

2007-06-22  Bernhard Herzog  <bh@intevation.de>

	* libopenvas-config.pre.in: remove the @pcap_flag@ substitution
	from the --libs output.  The pcap options are now in EXTRA anyway
	and @pcap_flag@ is no longer substituted.

2007-06-21  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Removed local copy of pcap library.

	* configure.in, Makefile, libopenvas-config.pre.in:
	Removed any handling of libpcap-nessus

	* configure: updated with new autoconf version as of Debian etch

	* libpcap-nessus/: Removed entire directory.

2007-06-21  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (nessus_install_passwd_cb): Use correct
	function name in error message

2007-06-21  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (sslerror2, sslerror)
	(nessus_install_passwd_cb): Get rid of the last actual OpenSSL
	calls.  The implementations now simply print an error message and
	do nothing.

2007-06-20  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (open_SSL_connection): Better error
	handling for the gnutls function calls.

2007-06-20  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c: Keep a pointer to the gnutls credentials
	struct so that it can be freed properly:
	(struct nessus_connection): New member tls_cred
	(release_connection_fd): Free tls_cred
	(open_SSL_connection): Store the credentials in the tls_cred
	member

2007-06-20  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (load_file, unload_file): New. Helper
	functions to load certificates and keys.
	(load_cert_and_key): New.  Loads certificate and key files into
	the gnuTLS credentials object.  This function supports decryption
	of private keys.
	(open_SSL_connection): use load_cert_and_key to load the
	certificate and key.  Remove the warnign about unsupported key
	decryption.  Load the CA files if given.

2007-06-14  Bernhard Herzog  <bh@intevation.de>

	First step in the code to move from OpenSSL to GnuTLS.  The code
	in network.c now uses GnuTLS instead of OpenSSL for stream
	connections.  There are still a few remnants of the OpenSSL code,
	though and code using the library will still need to link -lssl.

	* libopenvas/network.c (struct nessus_connection)
	(release_connection_fd, nessus_register_connection, sslerror)
	(nessus_SSL_init, open_SSL_connection, open_stream_connection)
	(open_stream_connection_unknown_encaps5)
	(read_stream_connection_unbuffered, write_stream_connection4)
	(stream_pending): Use GnuTLS instead of OpenSSL.
	(stream_get_ssl): Now always returns NULL since there's no SSL*
	associated with a stream anymore.  See the comments in the code
	for some of the implications of this.
	(tlserror, set_gnutls_sslv23, set_gnutls_sslv3, set_gnutls_tlsv1):
	New functions for the GnuTLS support.

2007-06-04  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (struct nessus_connection)
	(open_SSL_connection, write_stream_connection4): Remove
	nessus_connection member last_ssl_err because it's only assigned
	to, but never used.

2007-05-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* VERSION: Renamed from CVS to SVN.

	* TODO: Some more open questions.

	* include/includes.h: Removed a nessus header file.

2007-05-23  Bernhard Herzog  <bh@intevation.de>

	* libopenvas/network.c (data_left): Removed.  The function was
	commented out and never used.

2007-05-14  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/network.c: Renamed all closesocket() to close().
	closesocket() was a remain from trying to be NT compatible.

2007-05-14  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure: updated.

2007-05-14  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* Makefile: Fixed dependencies for target install. This
	way now also libopenvas-config gets created during install
	from libopenvas-config.tmpl which wasn't the case before.

2007-05-14  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* Makefile: Fixed name for libopenvas-config man page for installation.

2007-05-14  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* Makefile: installation target for headerfiles renamed from
	nessus to openvas.

2007-05-09  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Introduce "make dist" to create a tar-ball.

	* VERSION: Set to .CVS.

	* MANIFEST: New. List of source files for dist.

	* Makefile: New target "dist".

2007-05-09  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* nessus-config.pre.in: Removed.

	* libopenvas-config.pre.in: New. Replaces nessus-config.pre.in.

	* nessus-config.1: Removed.

	* libopenvas-config.1: New. Replaces nessus-config.1.

	* configure.in, Makefile: Replace nessus-config by libopenvas-config.

2007-05-09  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* nessus-config.pre.in, Makefile: Removed DESTDIR. It looks
	pretty useless as it needs to be set in the shell.
	It was introduced in Nessus 1.3.1.

2007-05-09  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libopenvas/plugutils.c: Removed any conditional alternatives
	for HAVE_SSL (ssl is mandatory now)

2007-05-09  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	First, intermediate step of migrating from OpenSSL to GNUTLS:
	Remove the all old stuff at the configure-level.

	* configure.in: Removed any  handling of OpenSSL and the
	conditional handling of SSL support. Inserterted mandatory
	requirement of GNUTLS.

	* configure: Updated.

	* openvas-libraries.tmpl.in, nessus-config.pre.in: Removed
	any OpenSSL handling.

2007-04-26  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in: Removed cygwin stuff.

2007-04-24  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in, Makefile, INSTALL_README: Removed handling of "uninstall-nessus".

	* uninstall-nessus.in: Removed.

2007-04-12  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Removing various Windows related files.

	* README.WINDOWS, nmake.w32, nmake.bat, nessus.def,
	include/config.w32, include/ntcompat.h: Removed.

	* include/includes.h: Removed some W32-specific elements.

2007-03-29  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* Makefile, libopenvas/Makefile: Renaming libnessus to libopenvas.
	Fixing header from GPL to LGPL.

	* libopenvas/store.c, libopenvas/plugutils.c, libopenvas/ids_send.c,
	libopenvas/arglists.c, libopenvas/data.c, libopenvas/network.c,
	libopenvas/services.c, uninstall-nessus.in, include/includes.h:
	Added header. Renaming libnessus to libopenvas.

	* include/libnessus.h: Renamed to libopenvas.h.

	* include/libopenvas.h: New. Former libnessus.h.

2007-03-29  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* libnessus: Renamed to libopenvas.

	* libopenvas: New. Former libnessus.

2007-03-28  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* TODO: New. Keep a list of issues/ideas/plans for this module.

2007-03-28  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvas-libraries.tmpl.in: Added header.

	* Makefile, libhosts_gatherer/Makefile, libnessus/Makefile: Added header.
	Renamed nessus.tmpl to openvas-libraries.tmpl.

	* libpcap-nessus/Makefile.in: Renamed nessus.tmpl to openvas-libraries.tmpl.

	* configure: updated.

2007-03-28  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* nessus.tmpl.in: Removed (replaced by openvas-libraries.tmpl.in)

	* openvas-libraries.tmpl.in: Former nessus.tmpl

	* configure.in: Name change for .tmpl file.

2007-03-28  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in: Added header information.

	* ChangeLog: New. Summary of changes.

2007-03-28  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* VERSION: Changed version number to 0.9.0 to not confuse with nessus
		versioning and to make clear that for OpenVAS this is not yet stable.
